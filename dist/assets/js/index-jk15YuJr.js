import{d as z,s as dt,c as p,a as E,u as $,o as c,b as t,t as h,n as S,e as w,r as it,f as I,w as x,R as C,g as B,h as rt,i as J,j as T,k as M,l as D,m as U,p as Y,q as K,v as O,x as P,y as ct,F as q,z as R,A as ut,B as pt,C as mt,D as ft,E as ht,G as gt}from"./vue-C285gHd4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerPolicy&&(a.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?a.credentials="include":d.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(d){if(d.ep)return;d.ep=!0;const a=s(d);fetch(d.href,a)}})();const j=z("toast",{state:()=>({toast:null,timeoutId:null}),actions:{show(o,e,s){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.toast={variant:o,title:e,message:s},this.timeoutId=window.setTimeout(()=>{this.clear()},4e3)},showSuccess(o,e){this.show("success",o,e)},showError(o,e){this.show("error",o,e)},clear(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.toast=null}}}),yt={__name:"ToastContainer",setup(o){const e=j(),{toast:s}=dt(e),i=()=>{e.clear()};return(d,a)=>$(s)?(c(),p("div",{key:0,class:S(["toast",$(s).variant==="success"?"toast-success":"toast-error"]),role:"status","aria-live":"polite"},[t("div",null,[t("strong",null,h($(s).title),1),t("p",null,h($(s).message),1)]),t("button",{type:"button","aria-label":"Close notification",onClick:i}," √ó ")],2)):E("",!0)}},vt={class:"app-shell"},bt={__name:"App",setup(o){return(e,s)=>{const i=it("RouterView");return c(),p("div",vt,[w(yt),w(i)])}}},at="ticketapp_users",A="ticketapp_session",et=()=>`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,F=()=>{try{const o=localStorage.getItem(at);return o?JSON.parse(o):[]}catch(o){return console.error("Failed to parse users storage",o),[]}},_t=o=>{localStorage.setItem(at,JSON.stringify(o))},st=(o,e)=>o.find(s=>s.email.toLowerCase()===e.toLowerCase()),V=z("auth",{state:()=>({user:null,sessionToken:null,isHydrated:!1}),actions:{hydrate(){if(this.isHydrated)return;const o=localStorage.getItem(A);if(!o){this.isHydrated=!0;return}try{const e=JSON.parse(o),i=F().find(d=>d.id===e.userId);if(e!=null&&e.token&&i){this.user={id:i.id,name:i.name,email:i.email},this.sessionToken=e.token,this.isHydrated=!0;return}localStorage.removeItem(A),this.isHydrated=!0}catch(e){console.error("Failed to hydrate session",e),localStorage.removeItem(A),this.isHydrated=!0}},register(o){const e=F();if(st(e,o.email)){const g=new Error("An account with that email already exists.");throw g.code="EMAIL_IN_USE",g}const i=crypto.randomUUID(),d=[...e,{id:i,name:o.name,email:o.email,password:o.password}];_t(d);const a=et(),l={token:a,userId:i,createdAt:new Date().toISOString()};return localStorage.setItem(A,JSON.stringify(l)),this.user={id:i,name:o.name,email:o.email},this.sessionToken=a,{token:a}},login(o){const e=F(),s=st(e,o.email);if(!s||s.password!==o.password){const a=new Error("Invalid credentials. Please try again.");throw a.code="INVALID_CREDENTIALS",a}const i=et(),d={token:i,userId:s.id,createdAt:new Date().toISOString()};return localStorage.setItem(A,JSON.stringify(d)),this.user={id:s.id,name:s.name,email:s.email},this.sessionToken=i,{token:i}},logout(){localStorage.removeItem(A),this.user=null,this.sessionToken=null}}}),kt={class:"header",role:"banner"},wt={class:"header-inner"},$t={class:"nav-links","aria-label":"Primary navigation"},W={__name:"Header",setup(o){const e=J(),s=rt(),i=V(),d=I(()=>!!i.sessionToken),a=()=>{i.logout(),e.replace("/")},l=g=>({"router-link-exact-active":s.path===g});return(g,r)=>(c(),p("header",kt,[t("div",wt,[w($(C),{to:"/",class:"brand","aria-label":"EventEase home"},{default:x(()=>[...r[0]||(r[0]=[t("span",{class:"brand-icon","aria-hidden":"true"},"EE",-1),T(" EventEase Tickets ",-1)])]),_:1}),t("nav",$t,[w($(C),{to:"/",class:S(l("/"))},{default:x(()=>[...r[1]||(r[1]=[T("Home",-1)])]),_:1},8,["class"]),w($(C),{to:"/dashboard",class:S(l("/dashboard"))},{default:x(()=>[...r[2]||(r[2]=[T("Dashboard",-1)])]),_:1},8,["class"]),w($(C),{to:"/tickets",class:S(l("/tickets"))},{default:x(()=>[...r[3]||(r[3]=[T("Tickets",-1)])]),_:1},8,["class"]),d.value?(c(),p("button",{key:0,type:"button",class:"btn btn-secondary",onClick:a}," Logout ")):(c(),B($(C),{key:1,to:"/auth/login",class:"btn btn-secondary"},{default:x(()=>[...r[4]||(r[4]=[T("Login",-1)])]),_:1}))])])]))}},St=(o,e)=>{const s=o.__vccOpts||o;for(const[i,d]of e)s[i]=d;return s},Et={},Tt={class:"footer",role:"contentinfo"},xt={class:"footer-bottom"};function Ct(o,e){return c(),p("footer",Tt,[e[0]||(e[0]=M('<div class="footer-inner"><div><div class="footer-brand"><span class="brand-icon" aria-hidden="true">EE</span><div><strong>EventEase Tickets</strong></div></div></div><div><h3>Product</h3><ul><li>Ticket Dashboard</li><li>Ticket Management</li><li>Real-time Collaboration</li></ul></div><div><h3>Support</h3><ul><li>Help Center</li><li>Documentation</li><li>Community</li></ul></div><div><h3>Contact</h3><ul><li>Email: support@eventease.dev</li><li>Phone: +234 800 123 4567</li><li>Mon - Fri: 8:00am - 6:00pm</li></ul></div></div>',1)),t("div",xt,"¬© "+h(new Date().getFullYear())+" EventEase. All rights reserved.",1)])}const G=St(Et,[["render",Ct]]),It={class:"landing-page"},Ot={class:"hero","aria-labelledby":"hero-title"},Pt={class:"container hero-content"},At={class:"hero-copy"},Dt={class:"hero-actions"},Vt={name:"LandingPage",components:{Header:W,Footer:G}},Lt=Object.assign(Vt,{setup(o){return(e,s)=>(c(),p("div",It,[w(W),t("section",Ot,[t("div",Pt,[t("div",At,[s[2]||(s[2]=t("h1",{id:"hero-title",class:"hero-title"}," Unlock Seamless Access With EventEase. ",-1)),s[3]||(s[3]=t("p",{class:"hero-description"}," Experience hassle-free user authentication and top-notch security. Our innovative session management ensures a smooth start for everyone. ",-1)),t("div",Dt,[w($(C),{to:"/auth/signup",class:"btn"},{default:x(()=>[...s[0]||(s[0]=[T(" Get Started ",-1)])]),_:1}),w($(C),{to:"/auth/login",class:"btn btn-secondary"},{default:x(()=>[...s[1]||(s[1]=[T(" Login ",-1)])]),_:1})])]),s[4]||(s[4]=M('<div class="hero-media" aria-hidden="true"><div class="hero-card card"><h2 style="margin:0;">Live Ticket Overview</h2><div class="grid stats-grid"><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;">128</strong><span>Total Tickets</span></div><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;color:#2f8f46;">52</strong><span>Open</span></div><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;color:#a86a08;">34</strong><span>In Progress</span></div><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;color:#495057;">42</strong><span>Closed</span></div></div><p style="color:#6c7391;"> Collaborate, track status shifts, and keep stakeholders in the loop effortlessly. </p></div></div>',1))])]),s[5]||(s[5]=M('<section class="section" aria-labelledby="features-title"><div class="container"><div class="section-header"><h2 id="features-title" class="section-title"> Why teams choose EventEase </h2><p style="color:#4a5272;"> Experience seamless access with EventEase, tailored for your team&#39;s needs </p></div><div class="features-grid"><article class="card feature-card"><span class="feature-icon" aria-hidden="true"> ‚ö° </span><h3>Streamlined User Access</h3><p>Quickly authenticate users and maintain security with efficient session management techniques.</p></article><article class="card feature-card"><span class="feature-icon" aria-hidden="true"> üìä </span><h3>Comprehensive Analytics Dashboard</h3><p>Track the total number of tickets, including open and resolved issues, with dynamic updates for immediate insights.</p></article><article class="card feature-card"><span class="feature-icon" aria-hidden="true"> üõ†Ô∏è </span><h3>Enhanced Ticket Management</h3><p>Effortlessly create, edit, or close tickets with user-friendly validation prompts and timely notifications.</p></article></div></div></section>',1)),w(G)]))}}),qt={class:"form-shell"},Nt={class:"form-card",role:"form","aria-labelledby":"login-title"},Ut={class:"form-field"},Rt={key:0,class:"error-text"},jt={class:"form-field"},Ft={key:0,class:"error-text"},Ht=["disabled"],Mt={class:"auth-switch"},zt={__name:"Login",setup(o){const e=D({email:"",password:""}),s=D({}),i=U(!1),d=rt(),a=J(),l=V(),g=j(),r=()=>{const v={};return e.email.trim()||(v.email="Email is required."),e.password.trim()||(v.password="Password is required."),Object.keys(s).forEach(b=>delete s[b]),Object.entries(v).forEach(([b,_])=>{s[b]=_}),v},y=()=>d.query.redirect||"/dashboard";Y(()=>l.sessionToken,v=>{v&&a.replace("/dashboard")},{immediate:!0});const m=async()=>{const v=r();if(!(Object.keys(v).length>0))try{i.value=!0,await l.login({email:e.email.trim(),password:e.password}),g.showSuccess("Welcome back üëã","You are now signed in."),a.replace(y())}catch(b){g.showError("Login failed",b.message??"Invalid credentials.")}finally{i.value=!1}};return(v,b)=>(c(),p("div",qt,[t("div",Nt,[b[6]||(b[6]=t("div",{style:{display:"grid",gap:"0.5rem"}},[t("span",{class:"tag tag-open",style:{"justify-self":"flex-start"}},"Access Portal"),t("h1",{id:"login-title"},"Login to EventEase"),t("p",{style:{color:"#4a5272"}},"Manage every ticket with confidence.")],-1)),t("form",{class:"form-grid",novalidate:"",onSubmit:K(m,["prevent"])},[t("div",Ut,[b[2]||(b[2]=t("label",{for:"login-email"},"Email *",-1)),O(t("input",{id:"login-email","onUpdate:modelValue":b[0]||(b[0]=_=>e.email=_),type:"email",class:S({"input-error":s.email}),autocomplete:"email",required:""},null,2),[[P,e.email]]),s.email?(c(),p("span",Rt,h(s.email),1)):E("",!0)]),t("div",jt,[b[3]||(b[3]=t("label",{for:"login-password"},"Password *",-1)),O(t("input",{id:"login-password","onUpdate:modelValue":b[1]||(b[1]=_=>e.password=_),type:"password",class:S({"input-error":s.password}),autocomplete:"current-password",required:""},null,2),[[P,e.password]]),s.password?(c(),p("span",Ft,h(s.password),1)):E("",!0)]),t("button",{type:"submit",class:"btn",disabled:i.value},h(i.value?"Signing in‚Ä¶":"Sign in"),9,Ht)],32),t("p",Mt,[b[5]||(b[5]=T(" New to EventEase? ",-1)),w($(C),{to:"/auth/signup"},{default:x(()=>[...b[4]||(b[4]=[T("Create an account",-1)])]),_:1})])])]))}},Bt={class:"form-shell"},Jt={class:"form-card",role:"form","aria-labelledby":"signup-title"},Yt={class:"form-field"},Kt={key:0,class:"error-text"},Wt={class:"form-field"},Gt={key:0,class:"error-text"},Qt={class:"form-field"},Xt={key:0,class:"error-text"},Zt={class:"form-field"},te={key:0,class:"error-text"},ee=["disabled"],se={class:"auth-switch"},oe={__name:"Signup",setup(o){const e=D({name:"",email:"",password:"",confirmPassword:""}),s=D({}),i=U(!1),d=J(),a=V(),l=j();Y(()=>a.sessionToken,y=>{y&&d.replace("/dashboard")},{immediate:!0});const g=()=>{const y={};return e.name.trim()||(y.name="Name is required."),e.email.trim()||(y.email="Email is required."),e.password?e.password.length<6&&(y.password="Password must be at least 6 characters."):y.password="Password is required.",e.confirmPassword?e.confirmPassword!==e.password&&(y.confirmPassword="Passwords do not match."):y.confirmPassword="Confirm your password.",Object.keys(s).forEach(m=>delete s[m]),Object.entries(y).forEach(([m,v])=>{s[m]=v}),y},r=async()=>{const y=g();if(!(Object.keys(y).length>0))try{i.value=!0,await a.register({name:e.name.trim(),email:e.email.trim(),password:e.password}),l.showSuccess("Account created","Welcome aboard! You are now signed in."),d.replace("/dashboard")}catch(m){l.showError("Signup failed",m.message??"Unable to create account.")}finally{i.value=!1}};return(y,m)=>(c(),p("div",Bt,[t("div",Jt,[m[10]||(m[10]=t("div",{style:{display:"grid",gap:"0.5rem"}},[t("span",{class:"tag tag-in_progress",style:{"justify-self":"flex-start"}},"Start your journey"),t("h1",{id:"signup-title"},"Create an EventEase account"),t("p",{style:{color:"#4a5272"}},"Organize tickets with clarity and speed.")],-1)),t("form",{class:"form-grid",novalidate:"",onSubmit:K(r,["prevent"])},[t("div",Yt,[m[4]||(m[4]=t("label",{for:"signup-name"},"Full name *",-1)),O(t("input",{id:"signup-name","onUpdate:modelValue":m[0]||(m[0]=v=>e.name=v),type:"text",class:S({"input-error":s.name}),autocomplete:"name",required:""},null,2),[[P,e.name]]),s.name?(c(),p("span",Kt,h(s.name),1)):E("",!0)]),t("div",Wt,[m[5]||(m[5]=t("label",{for:"signup-email"},"Email *",-1)),O(t("input",{id:"signup-email","onUpdate:modelValue":m[1]||(m[1]=v=>e.email=v),type:"email",class:S({"input-error":s.email}),autocomplete:"email",required:""},null,2),[[P,e.email]]),s.email?(c(),p("span",Gt,h(s.email),1)):E("",!0)]),t("div",Qt,[m[6]||(m[6]=t("label",{for:"signup-password"},"Password *",-1)),O(t("input",{id:"signup-password","onUpdate:modelValue":m[2]||(m[2]=v=>e.password=v),type:"password",class:S({"input-error":s.password}),autocomplete:"new-password",required:""},null,2),[[P,e.password]]),s.password?(c(),p("span",Xt,h(s.password),1)):E("",!0)]),t("div",Zt,[m[7]||(m[7]=t("label",{for:"signup-confirm"},"Confirm password *",-1)),O(t("input",{id:"signup-confirm","onUpdate:modelValue":m[3]||(m[3]=v=>e.confirmPassword=v),type:"password",class:S({"input-error":s.confirmPassword}),required:""},null,2),[[P,e.confirmPassword]]),s.confirmPassword?(c(),p("span",te,h(s.confirmPassword),1)):E("",!0)]),t("button",{type:"submit",class:"btn",disabled:i.value},h(i.value?"Creating account‚Ä¶":"Create account"),9,ee)],32),t("p",se,[m[9]||(m[9]=T(" Already have an account? ",-1)),w($(C),{to:"/auth/login"},{default:x(()=>[...m[8]||(m[8]=[T("Sign in",-1)])]),_:1})])])]))}},nt="ticketapp_tickets_v1",ie=()=>{try{const o=localStorage.getItem(nt);return o?JSON.parse(o):[]}catch(o){return console.error("Failed to parse tickets storage",o),[]}},H=o=>{localStorage.setItem(nt,JSON.stringify(o))},Q=z("tickets",{state:()=>({tickets:[],isHydrated:!1}),actions:{hydrate(){this.isHydrated||(this.tickets=ie(),this.isHydrated=!0)},addTicket(o){const e={...o,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return this.tickets=[e,...this.tickets],H(this.tickets),e},updateTicket(o,e){return this.tickets=this.tickets.map(s=>s.id===o?{...s,...e,updatedAt:new Date().toISOString()}:s),H(this.tickets),this.tickets.find(s=>s.id===o)},deleteTicket(o){this.tickets=this.tickets.filter(e=>e.id!==o),H(this.tickets)},getTicketById(o){return this.tickets.find(e=>e.id===o)??null}}}),re={class:"container",style:{"padding-top":"3rem","padding-bottom":"4rem"}},ae={class:"dashboard-header"},ne={class:"dashboard-heading"},le={class:"hero-actions",style:{"justify-content":"flex-end"}},de={class:"grid stats-grid","aria-label":"Ticket statistics"},ce={class:"card",role:"status"},ue={style:{"font-size":"2.5rem"}},pe={class:"card",role:"status"},me={style:{"font-size":"2.5rem",color:"#2f8f46"}},fe={class:"card",role:"status"},he={style:{"font-size":"2.5rem",color:"#a86a08"}},ge={class:"card",role:"status"},ye={style:{"font-size":"2.5rem",color:"#495057"}},ve={class:"tablet-two-column",style:{"margin-top":"3rem"}},be={class:"card",style:{display:"grid",gap:"1.5rem"}},_e=["aria-label"],ke={class:"card",style:{display:"grid",gap:"1.25rem"}},we={key:0,class:"empty-state",style:{padding:"2rem 1rem"}},$e={key:1,style:{"list-style":"none",margin:"0",padding:"0",display:"grid",gap:"1rem"}},Se={class:"ticket-meta"},Ee={style:{color:"#6c7391","font-size":"0.9rem"}},Te={key:0,style:{margin:"0"}},xe={__name:"Dashboard",setup(o){const e=V(),s=Q(),i=I(()=>{const g=s.tickets,r=g.length,y=g.filter(u=>u.status==="open").length,m=g.filter(u=>u.status==="in_progress").length,v=g.filter(u=>u.status==="closed").length,b=r>0?Math.round(v/r*100):0,_=[...g].sort((u,n)=>new Date(n.createdAt)-new Date(u.createdAt)).slice(0,3);return{total:r,open:y,inProgress:m,closed:v,completionRate:b,recent:_}}),d=I(()=>{var g,r;return((r=(g=e.user)==null?void 0:g.name)==null?void 0:r.split(" ")[0])??"there"}),a=g=>g.replace("_"," "),l=g=>{if(!g)return"‚Äî";const r=new Date(g);return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}).format(r)};return(g,r)=>(c(),p("div",re,[t("header",ae,[t("div",ne,[r[0]||(r[0]=t("span",{class:"tag tag-open","aria-label":"Logged in user"},"Welcome back",-1)),t("h1",null,"Hi "+h(d.value)+", here's your control center",1),r[1]||(r[1]=t("span",null,"Manage tickets, track progress, and collaborate with your team in real time.",-1))]),t("div",le,[w($(C),{to:"/tickets",class:"btn"},{default:x(()=>[...r[2]||(r[2]=[T("Manage tickets",-1)])]),_:1}),w($(C),{to:"/tickets",class:"btn btn-secondary"},{default:x(()=>[...r[3]||(r[3]=[T("View board",-1)])]),_:1})])]),t("section",de,[t("article",ce,[r[4]||(r[4]=t("h2",{style:{"margin-top":"0"}},"Total tickets",-1)),t("strong",ue,h(i.value.total),1),r[5]||(r[5]=t("p",{style:{color:"#6c7391"}},"All tickets across all status.",-1))]),t("article",pe,[r[6]||(r[6]=t("h2",{style:{"margin-top":"0"}},"Open tickets",-1)),t("strong",me,h(i.value.open),1),r[7]||(r[7]=t("p",{style:{color:"#6c7391"}},"Items that require immediate attention.",-1))]),t("article",fe,[r[8]||(r[8]=t("h2",{style:{"margin-top":"0"}},"In progress",-1)),t("strong",he,h(i.value.inProgress),1),r[9]||(r[9]=t("p",{style:{color:"#6c7391"}},"Currently being worked on.",-1))]),t("article",ge,[r[10]||(r[10]=t("h2",{style:{"margin-top":"0"}},"Resolved",-1)),t("strong",ye,h(i.value.closed),1),r[11]||(r[11]=t("p",{style:{color:"#6c7391"}},"Completed tickets.",-1))])]),t("section",ve,[t("article",be,[r[12]||(r[12]=t("header",null,[t("h2",{style:{margin:"0"}},"Progress overview"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," Track your team's progress and stay on top of your tickets. ")],-1)),t("div",{role:"img","aria-label":`Completion rate ${i.value.completionRate}%`,style:{background:"rgba(79, 93, 255, 0.08)","border-radius":"24px",padding:"2rem",display:"grid","place-items":"center"}},[t("div",{style:ct([{width:"160px",height:"160px","border-radius":"50%",display:"grid","place-items":"center",color:"#4f5dff","font-weight":"700","font-size":"1.75rem"},{background:`conic-gradient(#4f5dff ${i.value.completionRate}%, rgba(79, 93, 255, 0.2) ${i.value.completionRate}% 100%)`}])},h(i.value.completionRate)+"% ",5)],8,_e),r[13]||(r[13]=t("ul",{style:{margin:"0","padding-left":"1.25rem",color:"#4a5272"}},[t("li",null,"Ensure open tickets are triaged daily."),t("li",null,"Celebrate resolved tickets with the team."),t("li",null,"Keep statuses up-to-date for accuracy.")],-1))]),t("article",ke,[r[16]||(r[16]=t("header",null,[t("h2",{style:{margin:"0"}},"Recent tickets"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," A quick view of what was recently created. ")],-1)),i.value.recent.length===0?(c(),p("div",we,[...r[14]||(r[14]=[t("strong",null,"No tickets yet",-1),t("p",null,"Once you start creating tickets, they'll appear here.",-1)])])):(c(),p("ul",$e,[(c(!0),p(q,null,R(i.value.recent,y=>(c(),p("li",{key:y.id,class:"card-soft",style:{display:"grid",gap:"0.5rem"}},[t("div",Se,[t("strong",null,h(y.title),1),t("span",{class:S(["tag",`tag-${y.status}`])},h(a(y.status)),3)]),t("span",Ee," Created on "+h(l(y.createdAt)),1),y.description?(c(),p("p",Te,h(y.description),1)):E("",!0)]))),128))])),w($(C),{to:"/tickets",class:"btn btn-secondary",style:{"justify-self":"flex-start"}},{default:x(()=>[...r[15]||(r[15]=[T(" Go to tickets ",-1)])]),_:1})])])]))}},Ce={class:"form-field"},Ie=["for"],Oe=["id"],Pe={key:0,class:"error-text"},Ae={class:"form-field"},De=["for"],Ve=["id"],Le=["value"],qe={key:0,class:"error-text"},Ne={class:"form-field"},Ue=["for"],Re=["id"],je={key:0,class:"error-text"},Fe={class:"form-field"},He=["for"],Me=["id","rows"],ze={key:0,class:"error-text"},Be={class:"hero-actions",style:{"justify-content":"flex-start"}},Je={type:"submit",class:"btn"},ot={__name:"TicketForm",props:{initialValues:{type:Object,default:()=>({title:"",status:"open",description:"",priority:"normal"})},submitLabel:{type:String,default:"Save ticket"},onSubmit:{type:Function,required:!0},onCancel:{type:Function,default:null}},emits:["submit"],setup(o,{emit:e}){const s=[{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"closed",label:"Closed"}],i=o,d=e,a=D({title:i.initialValues.title??"",status:i.initialValues.status??"open",description:i.initialValues.description??"",priority:i.initialValues.priority??"normal"}),l=D({}),g=s,r=I(()=>{var n;return!!((n=i.initialValues)!=null&&n.id)}),y=I(()=>`ticket-title-${r.value?i.initialValues.id:"new"}`),m=I(()=>`ticket-status-${r.value?i.initialValues.id:"new"}`),v=I(()=>`ticket-priority-${r.value?i.initialValues.id:"new"}`),b=I(()=>`ticket-description-${r.value?i.initialValues.id:"new"}`);Y(()=>i.initialValues,n=>{a.title=n.title??"",a.status=n.status??"open",a.description=n.description??"",a.priority=n.priority??"normal",Object.keys(l).forEach(f=>{delete l[f]})},{deep:!0});const _=()=>{const n={};return a.title.trim()?a.title.trim().length>120&&(n.title="Title must be 120 characters or less."):n.title="Title is required.",s.some(f=>f.value===a.status)||(n.status="Status must be open, in progress, or closed."),a.description&&a.description.length>500&&(n.description="Description must not exceed 500 characters."),a.priority&&a.priority.length>40&&(n.priority="Priority label must not exceed 40 characters."),Object.keys(l).forEach(f=>{delete l[f]}),Object.entries(n).forEach(([f,k])=>{l[f]=k}),n},u=()=>{var tt;const n=_();if(Object.keys(n).length>0)return;const f={title:a.title.trim(),status:a.status,description:a.description.trim(),priority:a.priority.trim()},k=()=>{a.title="",a.status="open",a.description="",a.priority="normal",Object.keys(l).forEach(L=>{delete l[L]})},N=(tt=i.onSubmit)==null?void 0:tt.call(i,f,{reset:k}),Z=L=>L!==!1&&!r.value;N&&typeof N.then=="function"?N.then(L=>{Z(L)&&k()}).catch(()=>{}):Z(N)&&k(),d("submit",f)};return(n,f)=>(c(),p("form",{class:"form-grid",novalidate:"",onSubmit:K(u,["prevent"])},[t("div",Ce,[t("label",{for:y.value},"Title *",8,Ie),O(t("input",{id:y.value,"onUpdate:modelValue":f[0]||(f[0]=k=>a.title=k),type:"text",class:S({"input-error":l.title}),required:"",maxlength:"120"},null,10,Oe),[[P,a.title]]),l.title?(c(),p("span",Pe,h(l.title),1)):E("",!0)]),t("div",Ae,[t("label",{for:m.value},"Status *",8,De),O(t("select",{id:m.value,"onUpdate:modelValue":f[1]||(f[1]=k=>a.status=k),class:S({"input-error":l.status}),required:""},[(c(!0),p(q,null,R($(g),k=>(c(),p("option",{key:k.value,value:k.value},h(k.label),9,Le))),128))],10,Ve),[[ut,a.status]]),l.status?(c(),p("span",qe,h(l.status),1)):E("",!0)]),t("div",Ne,[t("label",{for:v.value},"Priority (optional)",8,Ue),O(t("input",{id:v.value,"onUpdate:modelValue":f[2]||(f[2]=k=>a.priority=k),type:"text",class:S({"input-error":l.priority}),maxlength:"40",placeholder:"e.g. High, Medium"},null,10,Re),[[P,a.priority]]),l.priority?(c(),p("span",je,h(l.priority),1)):E("",!0)]),t("div",Fe,[t("label",{for:b.value},"Description (optional)",8,He),O(t("textarea",{id:b.value,"onUpdate:modelValue":f[3]||(f[3]=k=>a.description=k),class:S({"input-error":l.description}),rows:r.value?5:4,maxlength:"500"},null,10,Me),[[P,a.description]]),l.description?(c(),p("span",ze,h(l.description),1)):E("",!0)]),t("div",Be,[t("button",Je,h(o.submitLabel),1),o.onCancel?(c(),p("button",{key:0,type:"button",class:"btn btn-secondary",onClick:f[4]||(f[4]=(...k)=>o.onCancel&&o.onCancel(...k))}," Cancel ")):E("",!0)])],32))}},Ye={class:"container",style:{"padding-top":"3rem","padding-bottom":"4rem"}},Ke={class:"dashboard-header",style:{"align-items":"flex-start"}},We={class:"ticket-filters",role:"radiogroup","aria-label":"Filter tickets by status"},Ge=["aria-checked","onClick"],Qe={class:"tablet-two-column",style:{"margin-top":"2rem"}},Xe={class:"card",style:{display:"grid",gap:"1.5rem"}},Ze={class:"card",style:{display:"grid",gap:"1.5rem"}},ts={key:1,class:"empty-state",style:{padding:"2rem 1rem"}},es={style:{"margin-top":"3rem"},"aria-live":"polite"},ss={class:"dashboard-heading",style:{"margin-bottom":"1.5rem"}},os={style:{margin:"0"}},is={key:0,class:"empty-state"},rs={key:1,class:"grid ticket-grid"},as=["aria-describedby"],ns=["id"],ls={key:0,style:{"font-weight":"600",color:"#4f5dff"}},ds={key:1,style:{margin:"0"}},cs={style:{"font-size":"0.85rem",color:"#6c7391"}},us={class:"ticket-actions"},ps=["onClick"],ms=["onClick"],fs={__name:"Tickets",setup(o){const e=[{value:"all",label:"All tickets"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"closed",label:"Closed"}],s=U("all"),i=U(null),d=Q(),a=j(),l=I(()=>d.tickets.find(_=>_.id===i.value)||null),g=I(()=>{const u=[...d.tickets].sort((n,f)=>new Date(f.createdAt)-new Date(n.createdAt));return s.value==="all"?u:u.filter(n=>n.status===s.value)}),r=_=>_.replace("_"," "),y=_=>new Date(_).toLocaleString(),m=(_,u)=>{var n;try{const f=d.addTicket(_);a.showSuccess("Ticket created",`‚Äú${f.title}‚Äù is now ${r(f.status)}.`),(n=u==null?void 0:u.reset)==null||n.call(u)}catch(f){a.showError("Failed to create ticket",f.message??"Please retry.")}},v=_=>{if(l.value)try{const u=d.updateTicket(l.value.id,_);a.showSuccess("Ticket updated",`‚Äú${u.title}‚Äù changes saved successfully.`),i.value=null}catch(u){a.showError("Failed to update ticket",u.message??"Please retry.")}},b=_=>{const u=d.tickets.find(f=>f.id===_);if(!(!u||!window.confirm(`Delete ‚Äú${u.title}‚Äù? This cannot be undone.`)))try{d.deleteTicket(_),i.value===_&&(i.value=null),a.showSuccess("Ticket deleted","The ticket has been removed.")}catch(f){a.showError("Failed to delete ticket",f.message??"Please retry.")}};return(_,u)=>(c(),p("div",Ye,[t("header",Ke,[u[0]||(u[0]=t("div",{class:"dashboard-heading"},[t("span",{class:"tag tag-open","aria-label":"Ticket workspace"},"Ticket workspace"),t("h1",null,"Stay on top of every ticket"),t("span",null,"Track, collaborate, and resolve tickets without switching tabs.")],-1)),t("div",We,[(c(),p(q,null,R(e,n=>t("button",{key:n.value,type:"button",role:"radio","aria-checked":s.value===n.value,class:S(["btn","btn-secondary",{active:s.value===n.value}]),onClick:f=>s.value=n.value},h(n.label),11,Ge)),64))])]),t("section",Qe,[t("article",Xe,[u[1]||(u[1]=t("header",null,[t("h2",{style:{margin:"0"}},"Create a new ticket"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," Provide a clear title and status. You can always edit details later. ")],-1)),w(ot,{"submit-label":"Create ticket","on-submit":m})]),t("article",Ze,[u[3]||(u[3]=t("header",null,[t("h2",{style:{margin:"0"}},"Editing"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," Select a ticket to edit its details. Changes are saved instantly. ")],-1)),l.value?(c(),B(ot,{key:l.value.id,"initial-values":l.value,"submit-label":"Save changes","on-submit":v,"on-cancel":()=>i.value=null},null,8,["initial-values","on-cancel"])):(c(),p("div",ts,[...u[2]||(u[2]=[t("strong",null,"No ticket selected",-1),t("p",null,"Choose a ticket from the list to start editing.",-1)])]))])]),t("section",es,[t("header",ss,[t("h2",os,"Tickets ("+h(g.value.length)+")",1),u[4]||(u[4]=t("span",null,"Card-based view with quick actions and status tags.",-1))]),g.value.length===0?(c(),p("div",is,[...u[5]||(u[5]=[t("strong",null,"No tickets found",-1),t("p",null,"Try creating a new ticket or adjust the filters above.",-1)])])):(c(),p("div",rs,[(c(!0),p(q,null,R(g.value,n=>(c(),p("article",{key:n.id,class:"card ticket-card","aria-describedby":`ticket-${n.id}`},[t("div",{class:"ticket-meta",id:`ticket-${n.id}`},[t("strong",null,h(n.title),1),t("span",{class:S(["tag",`tag-${n.status}`])},h(r(n.status)),3)],8,ns),n.priority?(c(),p("span",ls," Priority: "+h(n.priority),1)):E("",!0),n.description?(c(),p("p",ds,h(n.description),1)):E("",!0),t("div",cs,[t("span",null,"Created: "+h(y(n.createdAt)),1),n.updatedAt?(c(),p(q,{key:0},[u[6]||(u[6]=t("br",null,null,-1)),T("Updated: "+h(y(n.updatedAt)),1)],64)):E("",!0)]),t("div",us,[t("button",{type:"button",class:"btn",onClick:f=>i.value=n.id},"Edit",8,ps),t("button",{type:"button",class:"btn btn-secondary",onClick:f=>b(n.id)}," Delete ",8,ms)])],8,as))),128))]))])]))}},hs={class:"app-shell"},gs={key:0,class:"app-loading","aria-live":"polite"},ys={__name:"AppLayout",setup(o){const e=V(),s=Q();pt(()=>{e.hydrate(),s.hydrate()});const i=I(()=>e.isHydrated&&s.isHydrated);return(d,a)=>{const l=it("RouterView");return c(),p("div",hs,[w(W),t("main",null,[i.value?(c(),B(l,{key:1})):(c(),p("div",gs,[...a[0]||(a[0]=[t("div",{class:"spinner","aria-label":"Loading"},null,-1),t("p",null,"Loading EventEase...",-1)])]))]),w(G)])}}},lt=mt({history:ft(),routes:[{path:"/",name:"landing",component:Lt},{path:"/app",component:ys,children:[{path:"login",name:"login",component:zt},{path:"signup",name:"signup",component:oe},{path:"dashboard",name:"dashboard",component:xe,meta:{requiresAuth:!0}},{path:"tickets",name:"tickets",component:fs,meta:{requiresAuth:!0}}]},{path:"/:pathMatch(.*)*",redirect:"/"}],scrollBehavior(){return{top:0}}});lt.beforeEach(o=>{const e=V();return e.isHydrated||e.hydrate(),o.meta.requiresAuth&&!e.sessionToken?{name:"login",query:{redirect:o.fullPath}}:(o.name==="login"||o.name==="signup")&&e.sessionToken?{name:"dashboard"}:!0});const X=ht(bt);X.use(gt());X.use(lt);X.mount("#app");
