import{d as B,s as at,c as p,a as w,u as $,o as d,b as t,t as h,n as S,e as T,r as nt,f as z,w as x,R as C,g as E,h as D,i as R,j as J,k as W,l as O,v as P,m as Y,p as K,q as I,x as lt,F as N,y as j,z as dt,A as U,B as ct,C as ut,D as pt,E as mt,G as ft,H as ht}from"./vue-tGXNfKDa.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();const F=B("toast",{state:()=>({toast:null,timeoutId:null}),actions:{show(r,e,s){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.toast={variant:r,title:e,message:s},this.timeoutId=window.setTimeout(()=>{this.clear()},4e3)},showSuccess(r,e){this.show("success",r,e)},showError(r,e){this.show("error",r,e)},clear(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.toast=null}}}),yt={__name:"ToastContainer",setup(r){const e=F(),{toast:s}=at(e),o=()=>{e.clear()};return(l,a)=>$(s)?(d(),p("div",{key:0,class:S(["toast",$(s).variant==="success"?"toast-success":"toast-error"]),role:"status","aria-live":"polite"},[t("div",null,[t("strong",null,h($(s).title),1),t("p",null,h($(s).message),1)]),t("button",{type:"button","aria-label":"Close notification",onClick:o}," √ó ")],2)):w("",!0)}},gt={class:"app-shell"},vt={__name:"App",setup(r){return(e,s)=>{const o=nt("RouterView");return d(),p("div",gt,[T(yt),T(o)])}}},bt={class:"hero","aria-labelledby":"hero-title"},_t={class:"container hero-content"},kt={class:"hero-copy"},wt={class:"hero-actions"},$t={__name:"Landing",setup(r){return(e,s)=>(d(),p("div",null,[t("section",bt,[t("div",_t,[t("div",kt,[s[2]||(s[2]=t("h1",{id:"hero-title",class:"hero-title"}," Unlock Seamless Access With EventEase. ",-1)),s[3]||(s[3]=t("p",{class:"hero-description"}," Experience hassle-free user authentication and top-notch security. Our innovative session management ensures a smooth start for everyone. ",-1)),t("div",wt,[T($(C),{to:"/auth/signup",class:"btn"},{default:x(()=>[...s[0]||(s[0]=[E(" Get Started ",-1)])]),_:1}),T($(C),{to:"/auth/login",class:"btn btn-secondary"},{default:x(()=>[...s[1]||(s[1]=[E(" Login ",-1)])]),_:1})])]),s[4]||(s[4]=z('<div class="hero-media" aria-hidden="true"><div class="hero-card card"><h2 style="margin:0;">Live Ticket Overview</h2><div class="grid stats-grid"><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;">128</strong><span>Total Tickets</span></div><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;color:#2f8f46;">52</strong><span>Open</span></div><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;color:#a86a08;">34</strong><span>In Progress</span></div><div class="card-soft" style="text-align:center;"><strong style="font-size:2.2rem;color:#495057;">42</strong><span>Closed</span></div></div><p style="color:#6c7391;"> Collaborate, track status shifts, and keep stakeholders in the loop effortlessly. </p></div></div>',1))])]),s[5]||(s[5]=z('<section class="section" aria-labelledby="features-title"><div class="container"><div class="section-header"><h2 id="features-title" class="section-title"> Why teams choose EventEase </h2><p style="color:#4a5272;"> Experience seamless access with EventEase, tailored for your team&#39;s needs </p></div><div class="features-grid"><article class="card feature-card"><span class="feature-icon" aria-hidden="true">‚ö°</span><h3>Streamlined User Access</h3><p>Experience seamless access with EventEase, tailored for your team&#39;s needs</p></article><article class="card feature-card"><span class="feature-icon" aria-hidden="true">üìä</span><h3>Comprehensive Analytics Dashboard</h3><p>Track the total number of tickets, including open and resolved issues, with dynamic updates for immediate insights.</p></article><article class="card feature-card"><span class="feature-icon" aria-hidden="true">üõ†Ô∏è</span><h3>Enhanced Ticket Management</h3><p>Effortlessly create, edit, or close tickets with user-friendly validation prompts and timely notifications.</p></article></div></div></section>',1))]))}},ot="ticketapp_users",A="ticketapp_session",tt=()=>`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,H=()=>{try{const r=localStorage.getItem(ot);return r?JSON.parse(r):[]}catch(r){return console.error("Failed to parse users storage",r),[]}},St=r=>{localStorage.setItem(ot,JSON.stringify(r))},et=(r,e)=>r.find(s=>s.email.toLowerCase()===e.toLowerCase()),V=B("auth",{state:()=>({user:null,sessionToken:null,isHydrated:!1}),actions:{hydrate(){if(this.isHydrated)return;const r=localStorage.getItem(A);if(!r){this.isHydrated=!0;return}try{const e=JSON.parse(r),o=H().find(l=>l.id===e.userId);if(e!=null&&e.token&&o){this.user={id:o.id,name:o.name,email:o.email},this.sessionToken=e.token,this.isHydrated=!0;return}localStorage.removeItem(A),this.isHydrated=!0}catch(e){console.error("Failed to hydrate session",e),localStorage.removeItem(A),this.isHydrated=!0}},register(r){const e=H();if(et(e,r.email)){const y=new Error("An account with that email already exists.");throw y.code="EMAIL_IN_USE",y}const o=crypto.randomUUID(),l=[...e,{id:o,name:r.name,email:r.email,password:r.password}];St(l);const a=tt(),c={token:a,userId:o,createdAt:new Date().toISOString()};return localStorage.setItem(A,JSON.stringify(c)),this.user={id:o,name:r.name,email:r.email},this.sessionToken=a,{token:a}},login(r){const e=H(),s=et(e,r.email);if(!s||s.password!==r.password){const a=new Error("Invalid credentials. Please try again.");throw a.code="INVALID_CREDENTIALS",a}const o=tt(),l={token:o,userId:s.id,createdAt:new Date().toISOString()};return localStorage.setItem(A,JSON.stringify(l)),this.user={id:s.id,name:s.name,email:s.email},this.sessionToken=o,{token:o}},logout(){localStorage.removeItem(A),this.user=null,this.sessionToken=null}}}),Et={class:"form-shell"},Tt={class:"form-card",role:"form","aria-labelledby":"login-title"},xt={class:"form-field"},Ct={key:0,class:"error-text"},It={class:"form-field"},Ot={key:0,class:"error-text"},Pt=["disabled"],At={class:"auth-switch"},Dt={__name:"Login",setup(r){const e=D({email:"",password:""}),s=D({}),o=R(!1),l=Y(),a=K(),c=V(),y=F(),i=()=>{const v={};return e.email.trim()||(v.email="Email is required."),e.password.trim()||(v.password="Password is required."),Object.keys(s).forEach(b=>delete s[b]),Object.entries(v).forEach(([b,_])=>{s[b]=_}),v},g=()=>l.query.redirect||"/dashboard";J(()=>c.sessionToken,v=>{v&&a.replace("/dashboard")},{immediate:!0});const m=async()=>{const v=i();if(!(Object.keys(v).length>0))try{o.value=!0,await c.login({email:e.email.trim(),password:e.password}),y.showSuccess("Welcome back üëã","You are now signed in."),a.replace(g())}catch(b){y.showError("Login failed",b.message??"Invalid credentials.")}finally{o.value=!1}};return(v,b)=>(d(),p("div",Et,[t("div",Tt,[b[6]||(b[6]=t("div",{style:{display:"grid",gap:"0.5rem"}},[t("span",{class:"tag tag-open",style:{"justify-self":"flex-start"}},"Access Portal"),t("h1",{id:"login-title"},"Login to EventEase"),t("p",{style:{color:"#4a5272"}},"Manage every ticket with confidence.")],-1)),t("form",{class:"form-grid",novalidate:"",onSubmit:W(m,["prevent"])},[t("div",xt,[b[2]||(b[2]=t("label",{for:"login-email"},"Email *",-1)),O(t("input",{id:"login-email","onUpdate:modelValue":b[0]||(b[0]=_=>e.email=_),type:"email",class:S({"input-error":s.email}),autocomplete:"email",required:""},null,2),[[P,e.email]]),s.email?(d(),p("span",Ct,h(s.email),1)):w("",!0)]),t("div",It,[b[3]||(b[3]=t("label",{for:"login-password"},"Password *",-1)),O(t("input",{id:"login-password","onUpdate:modelValue":b[1]||(b[1]=_=>e.password=_),type:"password",class:S({"input-error":s.password}),autocomplete:"current-password",required:""},null,2),[[P,e.password]]),s.password?(d(),p("span",Ot,h(s.password),1)):w("",!0)]),t("button",{type:"submit",class:"btn",disabled:o.value},h(o.value?"Signing in‚Ä¶":"Sign in"),9,Pt)],32),t("p",At,[b[5]||(b[5]=E(" New to EventEase? ",-1)),T($(C),{to:"/auth/signup"},{default:x(()=>[...b[4]||(b[4]=[E("Create an account",-1)])]),_:1})])])]))}},Vt={class:"form-shell"},Lt={class:"form-card",role:"form","aria-labelledby":"signup-title"},Nt={class:"form-field"},Ut={key:0,class:"error-text"},qt={class:"form-field"},Rt={key:0,class:"error-text"},jt={class:"form-field"},Ft={key:0,class:"error-text"},Ht={class:"form-field"},Mt={key:0,class:"error-text"},zt=["disabled"],Bt={class:"auth-switch"},Jt={__name:"Signup",setup(r){const e=D({name:"",email:"",password:"",confirmPassword:""}),s=D({}),o=R(!1),l=K(),a=V(),c=F();J(()=>a.sessionToken,g=>{g&&l.replace("/dashboard")},{immediate:!0});const y=()=>{const g={};return e.name.trim()||(g.name="Name is required."),e.email.trim()||(g.email="Email is required."),e.password?e.password.length<6&&(g.password="Password must be at least 6 characters."):g.password="Password is required.",e.confirmPassword?e.confirmPassword!==e.password&&(g.confirmPassword="Passwords do not match."):g.confirmPassword="Confirm your password.",Object.keys(s).forEach(m=>delete s[m]),Object.entries(g).forEach(([m,v])=>{s[m]=v}),g},i=async()=>{const g=y();if(!(Object.keys(g).length>0))try{o.value=!0,await a.register({name:e.name.trim(),email:e.email.trim(),password:e.password}),c.showSuccess("Account created","Welcome aboard! You are now signed in."),l.replace("/dashboard")}catch(m){c.showError("Signup failed",m.message??"Unable to create account.")}finally{o.value=!1}};return(g,m)=>(d(),p("div",Vt,[t("div",Lt,[m[10]||(m[10]=t("div",{style:{display:"grid",gap:"0.5rem"}},[t("span",{class:"tag tag-in_progress",style:{"justify-self":"flex-start"}},"Start your journey"),t("h1",{id:"signup-title"},"Create an EventEase account"),t("p",{style:{color:"#4a5272"}},"Organize tickets with clarity and speed.")],-1)),t("form",{class:"form-grid",novalidate:"",onSubmit:W(i,["prevent"])},[t("div",Nt,[m[4]||(m[4]=t("label",{for:"signup-name"},"Full name *",-1)),O(t("input",{id:"signup-name","onUpdate:modelValue":m[0]||(m[0]=v=>e.name=v),type:"text",class:S({"input-error":s.name}),autocomplete:"name",required:""},null,2),[[P,e.name]]),s.name?(d(),p("span",Ut,h(s.name),1)):w("",!0)]),t("div",qt,[m[5]||(m[5]=t("label",{for:"signup-email"},"Email *",-1)),O(t("input",{id:"signup-email","onUpdate:modelValue":m[1]||(m[1]=v=>e.email=v),type:"email",class:S({"input-error":s.email}),autocomplete:"email",required:""},null,2),[[P,e.email]]),s.email?(d(),p("span",Rt,h(s.email),1)):w("",!0)]),t("div",jt,[m[6]||(m[6]=t("label",{for:"signup-password"},"Password *",-1)),O(t("input",{id:"signup-password","onUpdate:modelValue":m[2]||(m[2]=v=>e.password=v),type:"password",class:S({"input-error":s.password}),autocomplete:"new-password",required:""},null,2),[[P,e.password]]),s.password?(d(),p("span",Ft,h(s.password),1)):w("",!0)]),t("div",Ht,[m[7]||(m[7]=t("label",{for:"signup-confirm"},"Confirm password *",-1)),O(t("input",{id:"signup-confirm","onUpdate:modelValue":m[3]||(m[3]=v=>e.confirmPassword=v),type:"password",class:S({"input-error":s.confirmPassword}),required:""},null,2),[[P,e.confirmPassword]]),s.confirmPassword?(d(),p("span",Mt,h(s.confirmPassword),1)):w("",!0)]),t("button",{type:"submit",class:"btn",disabled:o.value},h(o.value?"Creating account‚Ä¶":"Create account"),9,zt)],32),t("p",Bt,[m[9]||(m[9]=E(" Already have an account? ",-1)),T($(C),{to:"/auth/login"},{default:x(()=>[...m[8]||(m[8]=[E("Sign in",-1)])]),_:1})])])]))}},rt="ticketapp_tickets_v1",Wt=()=>{try{const r=localStorage.getItem(rt);return r?JSON.parse(r):[]}catch(r){return console.error("Failed to parse tickets storage",r),[]}},M=r=>{localStorage.setItem(rt,JSON.stringify(r))},G=B("tickets",{state:()=>({tickets:[],isHydrated:!1}),actions:{hydrate(){this.isHydrated||(this.tickets=Wt(),this.isHydrated=!0)},addTicket(r){const e={...r,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return this.tickets=[e,...this.tickets],M(this.tickets),e},updateTicket(r,e){return this.tickets=this.tickets.map(s=>s.id===r?{...s,...e,updatedAt:new Date().toISOString()}:s),M(this.tickets),this.tickets.find(s=>s.id===r)},deleteTicket(r){this.tickets=this.tickets.filter(e=>e.id!==r),M(this.tickets)},getTicketById(r){return this.tickets.find(e=>e.id===r)??null}}}),Yt={class:"container",style:{"padding-top":"3rem","padding-bottom":"4rem"}},Kt={class:"dashboard-header"},Gt={class:"dashboard-heading"},Qt={class:"hero-actions",style:{"justify-content":"flex-end"}},Xt={class:"grid stats-grid","aria-label":"Ticket statistics"},Zt={class:"card",role:"status"},te={style:{"font-size":"2.5rem"}},ee={class:"card",role:"status"},se={style:{"font-size":"2.5rem",color:"#2f8f46"}},oe={class:"card",role:"status"},re={style:{"font-size":"2.5rem",color:"#a86a08"}},ie={class:"card",role:"status"},ae={style:{"font-size":"2.5rem",color:"#495057"}},ne={class:"tablet-two-column",style:{"margin-top":"3rem"}},le={class:"card",style:{display:"grid",gap:"1.5rem"}},de=["aria-label"],ce={class:"card",style:{display:"grid",gap:"1.25rem"}},ue={key:0,class:"empty-state",style:{padding:"2rem 1rem"}},pe={key:1,style:{"list-style":"none",margin:"0",padding:"0",display:"grid",gap:"1rem"}},me={class:"ticket-meta"},fe={style:{color:"#6c7391","font-size":"0.9rem"}},he={key:0,style:{margin:"0"}},ye={__name:"Dashboard",setup(r){const e=V(),s=G(),o=I(()=>{const y=s.tickets,i=y.length,g=y.filter(u=>u.status==="open").length,m=y.filter(u=>u.status==="in_progress").length,v=y.filter(u=>u.status==="closed").length,b=i>0?Math.round(v/i*100):0,_=[...y].sort((u,n)=>new Date(n.createdAt)-new Date(u.createdAt)).slice(0,3);return{total:i,open:g,inProgress:m,closed:v,completionRate:b,recent:_}}),l=I(()=>{var y,i;return((i=(y=e.user)==null?void 0:y.name)==null?void 0:i.split(" ")[0])??"there"}),a=y=>y.replace("_"," "),c=y=>{if(!y)return"‚Äî";const i=new Date(y);return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}).format(i)};return(y,i)=>(d(),p("div",Yt,[t("header",Kt,[t("div",Gt,[i[0]||(i[0]=t("span",{class:"tag tag-open","aria-label":"Logged in user"},"Welcome back",-1)),t("h1",null,"Hi "+h(l.value)+", here's your control center",1),i[1]||(i[1]=t("span",null,"Manage tickets, track progress, and collaborate with your team in real time.",-1))]),t("div",Qt,[T($(C),{to:"/tickets",class:"btn"},{default:x(()=>[...i[2]||(i[2]=[E("Manage tickets",-1)])]),_:1}),T($(C),{to:"/tickets",class:"btn btn-secondary"},{default:x(()=>[...i[3]||(i[3]=[E("View board",-1)])]),_:1})])]),t("section",Xt,[t("article",Zt,[i[4]||(i[4]=t("h2",{style:{"margin-top":"0"}},"Total tickets",-1)),t("strong",te,h(o.value.total),1),i[5]||(i[5]=t("p",{style:{color:"#6c7391"}},"All tickets across all status.",-1))]),t("article",ee,[i[6]||(i[6]=t("h2",{style:{"margin-top":"0"}},"Open tickets",-1)),t("strong",se,h(o.value.open),1),i[7]||(i[7]=t("p",{style:{color:"#6c7391"}},"Items that require immediate attention.",-1))]),t("article",oe,[i[8]||(i[8]=t("h2",{style:{"margin-top":"0"}},"In progress",-1)),t("strong",re,h(o.value.inProgress),1),i[9]||(i[9]=t("p",{style:{color:"#6c7391"}},"Currently being worked on.",-1))]),t("article",ie,[i[10]||(i[10]=t("h2",{style:{"margin-top":"0"}},"Resolved",-1)),t("strong",ae,h(o.value.closed),1),i[11]||(i[11]=t("p",{style:{color:"#6c7391"}},"Completed tickets.",-1))])]),t("section",ne,[t("article",le,[i[12]||(i[12]=t("header",null,[t("h2",{style:{margin:"0"}},"Progress overview"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," Track your team's progress and stay on top of your tickets. ")],-1)),t("div",{role:"img","aria-label":`Completion rate ${o.value.completionRate}%`,style:{background:"rgba(79, 93, 255, 0.08)","border-radius":"24px",padding:"2rem",display:"grid","place-items":"center"}},[t("div",{style:lt([{width:"160px",height:"160px","border-radius":"50%",display:"grid","place-items":"center",color:"#4f5dff","font-weight":"700","font-size":"1.75rem"},{background:`conic-gradient(#4f5dff ${o.value.completionRate}%, rgba(79, 93, 255, 0.2) ${o.value.completionRate}% 100%)`}])},h(o.value.completionRate)+"% ",5)],8,de),i[13]||(i[13]=t("ul",{style:{margin:"0","padding-left":"1.25rem",color:"#4a5272"}},[t("li",null,"Ensure open tickets are triaged daily."),t("li",null,"Celebrate resolved tickets with the team."),t("li",null,"Keep statuses up-to-date for accuracy.")],-1))]),t("article",ce,[i[16]||(i[16]=t("header",null,[t("h2",{style:{margin:"0"}},"Recent tickets"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," A quick view of what was recently created. ")],-1)),o.value.recent.length===0?(d(),p("div",ue,[...i[14]||(i[14]=[t("strong",null,"No tickets yet",-1),t("p",null,"Once you start creating tickets, they'll appear here.",-1)])])):(d(),p("ul",pe,[(d(!0),p(N,null,j(o.value.recent,g=>(d(),p("li",{key:g.id,class:"card-soft",style:{display:"grid",gap:"0.5rem"}},[t("div",me,[t("strong",null,h(g.title),1),t("span",{class:S(["tag",`tag-${g.status}`])},h(a(g.status)),3)]),t("span",fe," Created on "+h(c(g.createdAt)),1),g.description?(d(),p("p",he,h(g.description),1)):w("",!0)]))),128))])),T($(C),{to:"/tickets",class:"btn btn-secondary",style:{"justify-self":"flex-start"}},{default:x(()=>[...i[15]||(i[15]=[E(" Go to tickets ",-1)])]),_:1})])])]))}},ge={class:"form-field"},ve=["for"],be=["id"],_e={key:0,class:"error-text"},ke={class:"form-field"},we=["for"],$e=["id"],Se=["value"],Ee={key:0,class:"error-text"},Te={class:"form-field"},xe=["for"],Ce=["id"],Ie={key:0,class:"error-text"},Oe={class:"form-field"},Pe=["for"],Ae=["id","rows"],De={key:0,class:"error-text"},Ve={class:"hero-actions",style:{"justify-content":"flex-start"}},Le={type:"submit",class:"btn"},st={__name:"TicketForm",props:{initialValues:{type:Object,default:()=>({title:"",status:"open",description:"",priority:"normal"})},submitLabel:{type:String,default:"Save ticket"},onSubmit:{type:Function,required:!0},onCancel:{type:Function,default:null}},emits:["submit"],setup(r,{emit:e}){const s=[{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"closed",label:"Closed"}],o=r,l=e,a=D({title:o.initialValues.title??"",status:o.initialValues.status??"open",description:o.initialValues.description??"",priority:o.initialValues.priority??"normal"}),c=D({}),y=s,i=I(()=>{var n;return!!((n=o.initialValues)!=null&&n.id)}),g=I(()=>`ticket-title-${i.value?o.initialValues.id:"new"}`),m=I(()=>`ticket-status-${i.value?o.initialValues.id:"new"}`),v=I(()=>`ticket-priority-${i.value?o.initialValues.id:"new"}`),b=I(()=>`ticket-description-${i.value?o.initialValues.id:"new"}`);J(()=>o.initialValues,n=>{a.title=n.title??"",a.status=n.status??"open",a.description=n.description??"",a.priority=n.priority??"normal",Object.keys(c).forEach(f=>{delete c[f]})},{deep:!0});const _=()=>{const n={};return a.title.trim()?a.title.trim().length>120&&(n.title="Title must be 120 characters or less."):n.title="Title is required.",s.some(f=>f.value===a.status)||(n.status="Status must be open, in progress, or closed."),a.description&&a.description.length>500&&(n.description="Description must not exceed 500 characters."),a.priority&&a.priority.length>40&&(n.priority="Priority label must not exceed 40 characters."),Object.keys(c).forEach(f=>{delete c[f]}),Object.entries(n).forEach(([f,k])=>{c[f]=k}),n},u=()=>{var Z;const n=_();if(Object.keys(n).length>0)return;const f={title:a.title.trim(),status:a.status,description:a.description.trim(),priority:a.priority.trim()},k=()=>{a.title="",a.status="open",a.description="",a.priority="normal",Object.keys(c).forEach(L=>{delete c[L]})},q=(Z=o.onSubmit)==null?void 0:Z.call(o,f,{reset:k}),X=L=>L!==!1&&!i.value;q&&typeof q.then=="function"?q.then(L=>{X(L)&&k()}).catch(()=>{}):X(q)&&k(),l("submit",f)};return(n,f)=>(d(),p("form",{class:"form-grid",novalidate:"",onSubmit:W(u,["prevent"])},[t("div",ge,[t("label",{for:g.value},"Title *",8,ve),O(t("input",{id:g.value,"onUpdate:modelValue":f[0]||(f[0]=k=>a.title=k),type:"text",class:S({"input-error":c.title}),required:"",maxlength:"120"},null,10,be),[[P,a.title]]),c.title?(d(),p("span",_e,h(c.title),1)):w("",!0)]),t("div",ke,[t("label",{for:m.value},"Status *",8,we),O(t("select",{id:m.value,"onUpdate:modelValue":f[1]||(f[1]=k=>a.status=k),class:S({"input-error":c.status}),required:""},[(d(!0),p(N,null,j($(y),k=>(d(),p("option",{key:k.value,value:k.value},h(k.label),9,Se))),128))],10,$e),[[dt,a.status]]),c.status?(d(),p("span",Ee,h(c.status),1)):w("",!0)]),t("div",Te,[t("label",{for:v.value},"Priority (optional)",8,xe),O(t("input",{id:v.value,"onUpdate:modelValue":f[2]||(f[2]=k=>a.priority=k),type:"text",class:S({"input-error":c.priority}),maxlength:"40",placeholder:"e.g. High, Medium"},null,10,Ce),[[P,a.priority]]),c.priority?(d(),p("span",Ie,h(c.priority),1)):w("",!0)]),t("div",Oe,[t("label",{for:b.value},"Description (optional)",8,Pe),O(t("textarea",{id:b.value,"onUpdate:modelValue":f[3]||(f[3]=k=>a.description=k),class:S({"input-error":c.description}),rows:i.value?5:4,maxlength:"500"},null,10,Ae),[[P,a.description]]),c.description?(d(),p("span",De,h(c.description),1)):w("",!0)]),t("div",Ve,[t("button",Le,h(r.submitLabel),1),r.onCancel?(d(),p("button",{key:0,type:"button",class:"btn btn-secondary",onClick:f[4]||(f[4]=(...k)=>r.onCancel&&r.onCancel(...k))}," Cancel ")):w("",!0)])],32))}},Ne={class:"container",style:{"padding-top":"3rem","padding-bottom":"4rem"}},Ue={class:"dashboard-header",style:{"align-items":"flex-start"}},qe={class:"ticket-filters",role:"radiogroup","aria-label":"Filter tickets by status"},Re=["aria-checked","onClick"],je={class:"tablet-two-column",style:{"margin-top":"2rem"}},Fe={class:"card",style:{display:"grid",gap:"1.5rem"}},He={class:"card",style:{display:"grid",gap:"1.5rem"}},Me={key:1,class:"empty-state",style:{padding:"2rem 1rem"}},ze={style:{"margin-top":"3rem"},"aria-live":"polite"},Be={class:"dashboard-heading",style:{"margin-bottom":"1.5rem"}},Je={style:{margin:"0"}},We={key:0,class:"empty-state"},Ye={key:1,class:"grid ticket-grid"},Ke=["aria-describedby"],Ge=["id"],Qe={key:0,style:{"font-weight":"600",color:"#4f5dff"}},Xe={key:1,style:{margin:"0"}},Ze={style:{"font-size":"0.85rem",color:"#6c7391"}},ts={class:"ticket-actions"},es=["onClick"],ss=["onClick"],os={__name:"Tickets",setup(r){const e=[{value:"all",label:"All tickets"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"closed",label:"Closed"}],s=R("all"),o=R(null),l=G(),a=F(),c=I(()=>l.tickets.find(_=>_.id===o.value)||null),y=I(()=>{const u=[...l.tickets].sort((n,f)=>new Date(f.createdAt)-new Date(n.createdAt));return s.value==="all"?u:u.filter(n=>n.status===s.value)}),i=_=>_.replace("_"," "),g=_=>new Date(_).toLocaleString(),m=(_,u)=>{var n;try{const f=l.addTicket(_);a.showSuccess("Ticket created",`‚Äú${f.title}‚Äù is now ${i(f.status)}.`),(n=u==null?void 0:u.reset)==null||n.call(u)}catch(f){a.showError("Failed to create ticket",f.message??"Please retry.")}},v=_=>{if(c.value)try{const u=l.updateTicket(c.value.id,_);a.showSuccess("Ticket updated",`‚Äú${u.title}‚Äù changes saved successfully.`),o.value=null}catch(u){a.showError("Failed to update ticket",u.message??"Please retry.")}},b=_=>{const u=l.tickets.find(f=>f.id===_);if(!(!u||!window.confirm(`Delete ‚Äú${u.title}‚Äù? This cannot be undone.`)))try{l.deleteTicket(_),o.value===_&&(o.value=null),a.showSuccess("Ticket deleted","The ticket has been removed.")}catch(f){a.showError("Failed to delete ticket",f.message??"Please retry.")}};return(_,u)=>(d(),p("div",Ne,[t("header",Ue,[u[0]||(u[0]=t("div",{class:"dashboard-heading"},[t("span",{class:"tag tag-open","aria-label":"Ticket workspace"},"Ticket workspace"),t("h1",null,"Stay on top of every ticket"),t("span",null,"Track, collaborate, and resolve tickets without switching tabs.")],-1)),t("div",qe,[(d(),p(N,null,j(e,n=>t("button",{key:n.value,type:"button",role:"radio","aria-checked":s.value===n.value,class:S(["btn","btn-secondary",{active:s.value===n.value}]),onClick:f=>s.value=n.value},h(n.label),11,Re)),64))])]),t("section",je,[t("article",Fe,[u[1]||(u[1]=t("header",null,[t("h2",{style:{margin:"0"}},"Create a new ticket"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," Provide a clear title and status. You can always edit details later. ")],-1)),T(st,{"submit-label":"Create ticket","on-submit":m})]),t("article",He,[u[3]||(u[3]=t("header",null,[t("h2",{style:{margin:"0"}},"Editing"),t("p",{style:{color:"#6c7391","margin-bottom":"0"}}," Select a ticket to edit its details. Changes are saved instantly. ")],-1)),c.value?(d(),U(st,{key:c.value.id,"initial-values":c.value,"submit-label":"Save changes","on-submit":v,"on-cancel":()=>o.value=null},null,8,["initial-values","on-cancel"])):(d(),p("div",Me,[...u[2]||(u[2]=[t("strong",null,"No ticket selected",-1),t("p",null,"Choose a ticket from the list to start editing.",-1)])]))])]),t("section",ze,[t("header",Be,[t("h2",Je,"Tickets ("+h(y.value.length)+")",1),u[4]||(u[4]=t("span",null,"Card-based view with quick actions and status tags.",-1))]),y.value.length===0?(d(),p("div",We,[...u[5]||(u[5]=[t("strong",null,"No tickets found",-1),t("p",null,"Try creating a new ticket or adjust the filters above.",-1)])])):(d(),p("div",Ye,[(d(!0),p(N,null,j(y.value,n=>(d(),p("article",{key:n.id,class:"card ticket-card","aria-describedby":`ticket-${n.id}`},[t("div",{class:"ticket-meta",id:`ticket-${n.id}`},[t("strong",null,h(n.title),1),t("span",{class:S(["tag",`tag-${n.status}`])},h(i(n.status)),3)],8,Ge),n.priority?(d(),p("span",Qe," Priority: "+h(n.priority),1)):w("",!0),n.description?(d(),p("p",Xe,h(n.description),1)):w("",!0),t("div",Ze,[t("span",null,"Created: "+h(g(n.createdAt)),1),n.updatedAt?(d(),p(N,{key:0},[u[6]||(u[6]=t("br",null,null,-1)),E("Updated: "+h(g(n.updatedAt)),1)],64)):w("",!0)]),t("div",ts,[t("button",{type:"button",class:"btn",onClick:f=>o.value=n.id},"Edit",8,es),t("button",{type:"button",class:"btn btn-secondary",onClick:f=>b(n.id)}," Delete ",8,ss)])],8,Ke))),128))]))])]))}},rs={class:"header",role:"banner"},is={class:"header-inner"},as={class:"nav-links","aria-label":"Primary navigation"},ns={__name:"Header",setup(r){const e=K(),s=Y(),o=V(),l=I(()=>!!o.sessionToken),a=()=>{o.logout(),e.replace("/")},c=y=>({"router-link-exact-active":s.path===y});return(y,i)=>(d(),p("header",rs,[t("div",is,[T($(C),{to:"/",class:"brand","aria-label":"EventEase home"},{default:x(()=>[...i[0]||(i[0]=[t("span",{class:"brand-icon","aria-hidden":"true"},"EE",-1),E(" EventEase Tickets ",-1)])]),_:1}),t("nav",as,[T($(C),{to:"/",class:S(c("/"))},{default:x(()=>[...i[1]||(i[1]=[E("Home",-1)])]),_:1},8,["class"]),T($(C),{to:"/dashboard",class:S(c("/dashboard"))},{default:x(()=>[...i[2]||(i[2]=[E("Dashboard",-1)])]),_:1},8,["class"]),T($(C),{to:"/tickets",class:S(c("/tickets"))},{default:x(()=>[...i[3]||(i[3]=[E("Tickets",-1)])]),_:1},8,["class"]),l.value?(d(),p("button",{key:0,type:"button",class:"btn btn-secondary",onClick:a}," Logout ")):(d(),U($(C),{key:1,to:"/auth/login",class:"btn btn-secondary"},{default:x(()=>[...i[4]||(i[4]=[E("Login",-1)])]),_:1}))])])]))}},ls=(r,e)=>{const s=r.__vccOpts||r;for(const[o,l]of e)s[o]=l;return s},ds={},cs={class:"footer",role:"contentinfo"},us={class:"footer-bottom"};function ps(r,e){return d(),p("footer",cs,[e[0]||(e[0]=z('<div class="footer-inner"><div><div class="footer-brand"><span class="brand-icon" aria-hidden="true">EE</span><div><strong>EventEase Tickets</strong></div></div></div><div><h3>Product</h3><ul><li>Ticket Dashboard</li><li>Ticket Management</li><li>Real-time Collaboration</li></ul></div><div><h3>Support</h3><ul><li>Help Center</li><li>Documentation</li><li>Community</li></ul></div><div><h3>Contact</h3><ul><li>Email: support@eventease.dev</li><li>Phone: +234 800 123 4567</li><li>Mon - Fri: 8:00am - 6:00pm</li></ul></div></div>',1)),t("div",us,"¬© "+h(new Date().getFullYear())+" EventEase. All rights reserved.",1)])}const ms=ls(ds,[["render",ps]]),fs={class:"app-shell"},hs={key:0,class:"app-loading","aria-live":"polite"},ys={__name:"AppLayout",setup(r){const e=Y(),s=V(),o=G();ct(()=>{s.hydrate(),o.hydrate()});const l=I(()=>e.path.startsWith("/auth")),a=I(()=>s.isHydrated&&o.isHydrated);return(c,y)=>(d(),p("div",fs,[l.value?w("",!0):(d(),U(ns,{key:0})),t("main",null,[a.value?(d(),U($(ut),{key:1})):(d(),p("div",hs,[...y[0]||(y[0]=[t("div",{class:"spinner","aria-label":"Loading"},null,-1),t("p",null,"Loading EventEase...",-1)])]))]),l.value?w("",!0):(d(),U(ms,{key:1}))]))}},it=pt({history:mt(),routes:[{path:"/",component:ys,children:[{path:"",name:"landing",component:$t},{path:"auth/login",name:"login",component:Dt},{path:"auth/signup",name:"signup",component:Jt},{path:"dashboard",name:"dashboard",component:ye,meta:{requiresAuth:!0}},{path:"tickets",name:"tickets",component:os,meta:{requiresAuth:!0}}]},{path:"/:pathMatch(.*)*",redirect:"/"}],scrollBehavior(){return{top:0}}});it.beforeEach(r=>{const e=V();return e.isHydrated||e.hydrate(),r.meta.requiresAuth&&!e.sessionToken?{name:"login",query:{redirect:r.fullPath}}:(r.name==="login"||r.name==="signup")&&e.sessionToken?{name:"dashboard"}:!0});const Q=ft(vt);Q.use(ht());Q.use(it);Q.mount("#app");
